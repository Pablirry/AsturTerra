# üèîÔ∏è AsturTerra - Sistema de Gesti√≥n de Turismo en Asturias

Este es un **sistema de gesti√≥n de turismo** desarrollado en **Java (Swing) con MySQL** para gestionar rutas tur√≠sticas, reservas, valoraciones, restaurantes y comunicaci√≥n con soporte.

---

# üìå **Caracter√≠sticas Principales**
‚úÖ Registro e inicio de sesi√≥n de usuarios (Clientes / Administradores).  
‚úÖ CRUD de **Rutas** con im√°genes, precios y niveles de dificultad.  
‚úÖ CRUD de **Actividades y Restaurantes** con valoraciones.  
‚úÖ **Reservas y cancelaciones** de rutas.  
‚úÖ Sistema de **Valoraciones** de rutas y restaurantes.  
‚úÖ **Chat en tiempo real** entre usuarios y administradores.  
‚úÖ Registro de **Historial de actividades** de los usuarios.  
‚úÖ **Exportaci√≥n de datos** a **PDF y Excel**.  
‚úÖ **Modo oscuro/claro** para la interfaz gr√°fica.  

---

# üìÇ **Estructura del Proyecto**
üìÅ TurismoAsturias  
‚îú‚îÄ‚îÄ üìÇ src  
‚îÇ ‚îú‚îÄ‚îÄ üìÇ config ‚Üí Conexi√≥n a la base de datos  
‚îÇ ‚îú‚îÄ‚îÄ üìÇ dao ‚Üí Acceso a la base de datos (CRUD)  
‚îÇ ‚îú‚îÄ‚îÄ üìÇ modelo ‚Üí Clases de datos (Usuario, Ruta, Reserva, etc.)  
‚îÇ ‚îú‚îÄ‚îÄ üìÇ vista ‚Üí Interfaces gr√°ficas (Swing)  
‚îÇ ‚îú‚îÄ‚îÄ üìÇ controlador ‚Üí L√≥gica de negocio  
‚îú‚îÄ‚îÄ üìÇ assets ‚Üí Im√°genes de prueba  
‚îú‚îÄ‚îÄ üìú README.md ‚Üí Documentaci√≥n del proyecto  
‚îú‚îÄ‚îÄ üìú TurismoAsturias.sql ‚Üí Base de datos MySQL  

# üìú **Diagrama de Clases**

```mermaid
@startuml

Class Diagram

    class Usuario {
        +int id
        +String nombre
        +String correo
        +String contrasena
        +String tipo
        +byte[] imagenPerfil
    }

    class Ruta {
        +int id
        +String nombre
        +String descripcion
        +byte[] imagen
        +double precio
        +String dificultad
    }

    class Reserva {
        +int id
        +int idUsuario
        +int idRuta
        +Date fecha
    }

    class ValoracionRuta {
        +int id
        +int idUsuario
        +int idRuta
        +int puntuacion
        +String comentario
    }

    class Restaurante {
        +int id
        +String nombre
        +String ubicacion
        +float valoracion
        +byte[] imagen
    }

    class ValoracionRestaurante {
        +int id
        +int idUsuario
        +int idRestaurante
        +int puntuacion
        +String comentario
    }

    class Historial {
        +int id
        +int idUsuario
        +String accion
        +Date fecha
    }

    class Mensaje {
        +int id
        +int idUsuario
        +String mensaje
        +String respuesta
        +Date fecha
    }

    class UsuarioDAO {
        +Usuario iniciarSesion(String correo, String contrasena)
        +boolean registrarUsuario(Usuario usuario)
    }

    class HistorialDAO {
        +void registrarAccion(int idUsuario, String accion)
    }

    class UsuarioController {
        -UsuarioDAO usuarioDAO
        -HistorialDAO historialDAO
        -Login loginVista
        +UsuarioController()
        +UsuarioController(Login loginVista)
        +void iniciarSesion()
        +void abrirRegistro()
        +boolean registrarUsuario(Usuario usuario)
    }

    class Login {
        -JTextField txtCorreo
        -JPasswordField txtContrase√±a
        -JButton btnLogin
        -JButton btnRegistro
        -JLabel lblTitulo, lblCorreo, lblContrase√±a
        -JPanel panelFondo
        -UsuarioController usuarioController
        +Login()
        +JTextField getTxtCorreo()
        +JPasswordField getTxtContrase√±a()
        +JButton getBtnLogin()
        +JButton getBtnRegistro()
    }

    class Registro {
        -JTextField txtNombre, txtCorreo
        -JPasswordField txtContrase√±a
        -JButton btnRegistrar, btnSeleccionarImagen
        -JLabel lblFondo
        -JCheckBox chkAdmin
        -File imagenPerfil
        +Registro()
        +void registrarUsuario()
    }

    class MenuPrincipal {
        +MenuPrincipal()
    }

    class ConexionDB {
        +static Connection getConection()
    }

    UsuarioController --> UsuarioDAO : usa
    UsuarioController --> HistorialDAO : usa
    UsuarioController --> Login : controla
    UsuarioController --> Registro : controla
    Login --> UsuarioController : usa
    Registro --> UsuarioController : usa
    UsuarioDAO --> ConexionDB : usa
    HistorialDAO --> ConexionDB : usa
    Usuario "1" -- "0..*" Historial : genera
    Usuario "1" -- "0..*" Reserva : realiza
    Usuario "1" -- "0..*" ValoracionRuta : deja
    Usuario "1" -- "0..*" ValoracionRestaurante : deja
    Usuario "1" -- "0..*" Mensaje : env√≠a
    Usuario "1" -- "0..*" Restaurante : recomienda
    Ruta "1" -- "0..*" Reserva : es reservada en
    Ruta "1" -- "0..*" ValoracionRuta : es valorada en
    Restaurante "1" -- "0..*" ValoracionRestaurante : es valorado en
    Usuario "1" o-- "0..*" Historial : tiene
    Usuario "1" o-- "0..*" Restaurante : visita
    


@enduml
    
```
# üìú **Diagrama casos de uso**

```mermaid
graph TD;
    Usuario["üßë Usuario"];
    Administrador["üîß Administrador"];
    Sistema["üíæ Sistema"];

    subgraph "Gesti√≥n de Usuarios"
        UC1["üîë Iniciar sesi√≥n"];
        UC2["üìù Registrarse"];
        UC3["üë§ Ver perfil"];
        UC4["‚úèÔ∏è Modificar perfil"];
    end

    subgraph "Gesti√≥n de Rutas Tur√≠sticas"
        UC5["üìç Explorar rutas"];
        UC6["üó∫Ô∏è Reservar ruta"];
        UC7["‚ùå Cancelar reserva"];
        UC8["‚≠ê Valorar ruta"];
    end

    subgraph "Gesti√≥n de Restaurantes"
        UC9["üçΩÔ∏è Explorar restaurantes"];
        UC10["üëç Recomendar restaurante"];
        UC11["‚≠ê Valorar restaurante"];
    end

    subgraph "Interacci√≥n con el Sistema"
        UC12["üì© Enviar mensaje"];
        UC13["üì® Recibir respuesta"];
        UC14["üìú Historial de acciones"];
    end

    subgraph "Gesti√≥n de Administraci√≥n"
        UC15["üõ†Ô∏è Administrar usuarios"];
        UC16["üó∫Ô∏è Administrar rutas"];
        UC17["üè® Administrar restaurantes"];
        UC18["üìä Consultar estad√≠sticas"];
    end

    Usuario -->|Usa| UC1;
    Usuario -->|Usa| UC2;
    Usuario -->|Usa| UC3;
    Usuario -->|Usa| UC4;
    Usuario -->|Usa| UC5;
    Usuario -->|Usa| UC6;
    Usuario -->|Usa| UC7;
    Usuario -->|Usa| UC8;
    Usuario -->|Usa| UC9;
    Usuario -->|Usa| UC10;
    Usuario -->|Usa| UC11;
    Usuario -->|Usa| UC12;
    Usuario -->|Usa| UC13;
    Usuario -->|Consulta| UC14;

    Administrador -->|Gestiona| UC15;
    Administrador -->|Gestiona| UC16;
    Administrador -->|Gestiona| UC17;
    Administrador -->|Consulta| UC18;

    Sistema -->|Registra acciones| UC14;

    UC2 --> UC1;
    UC6 --> UC5;
    UC7 -.-> UC6;
    UC8 --> UC6;
    UC10 --> UC9;
    UC11 --> UC9;
    UC13 --> UC12;
    UC15 --> UC1;
    UC16 --> UC5;
    UC17 --> UC9;
```
# üìú **Diagrama ER**
```mermaid

erDiagram
    %% Definici√≥n de entidades
    USUARIO {
        int id PK
        String nombre
        String correo
        String contrasena
        String tipo
        byte[] imagenPerfil
    }
    
    RUTA {
        int id PK
        String nombre
        String descripcion
        byte[] imagen
        double precio
        String dificultad
    }
    
    RESERVA {
        int id PK
        int idUsuario FK
        int idRuta FK
        Date fecha
    }
    
    VALORACION_RUTA {
        int id PK
        int idUsuario FK
        int idRuta FK
        int puntuacion
        String comentario
    }
    
    RESTAURANTE {
        int id PK
        String nombre
        String ubicacion
        float valoracion
        byte[] imagen
    }
    
    VALORACION_RESTAURANTE {
        int id PK
        int idUsuario FK
        int idRestaurante FK
        int puntuacion
        String comentario
    }
    
    HISTORIAL {
        int id PK
        int idUsuario FK
        String accion
        Date fecha
    }
    
    MENSAJE {
        int id PK
        int idUsuario FK
        String mensaje
        String respuesta
        Date fecha
    }
    
    %% Relaciones
    USUARIO ||--o{ HISTORIAL : genera
    USUARIO ||--o{ RESERVA : realiza
    USUARIO ||--o{ VALORACION_RUTA : deja
    USUARIO ||--o{ VALORACION_RESTAURANTE : deja
    USUARIO ||--o{ MENSAJE : envia
    USUARIO ||--o{ RESTAURANTE : valora

```

---
# üõ†Ô∏è **Instalaci√≥n y Configuraci√≥n**

## üìå **1. Clonar el repositorio**
```bash
git clone https://github.com/Pablirry/TurismoAsturias.git

```
## üìå **2. Configurar la base de datos**

### 1. Importar el archivo TurismoAsturias.sql en MySQL:
```bash
CREATE DATABASE turismo_asturias;
USE turismo_asturias;
SOURCE TurismoAsturias.sql;
```

### 2. Configurar la conexi√≥n en src/config/ConexionBD.java:
```bash
private static final String URL = "jdbc:mysql://localhost:3306/turismo_asturias";
private static final String USER = "root";
private static final String PASSWORD = "tu_contrase√±a";
```

## üìå **3. Compilar y ejecutar el proyecto**
Abrir el proyecto en Eclipse o NetBeans.  
Asegurar que los drivers JDBC para MySQL est√°n configurados.  
Ejecutar la clase Main.java para iniciar la aplicaci√≥n.

### üì∏ Capturas de Pantalla
üìç Men√∫ Principal  
üìç Gesti√≥n de Rutas  
üìç Reservas y Valoraciones  
üìç Modo Oscuro y Exportaci√≥n de Datos  

(Se agregar√°n im√°genes despu√©s de la implementaci√≥n completa de las vistas)  

### üßë‚Äçüíª Tecnolog√≠as Utilizadas
<table> <tr> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/226/226777.png" width="50px"><br>Java (Swing)</td> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/5968/5968313.png" width="50px"><br>MySQL</td> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/733/733553.png" width="50px"><br>GitHub</td> </tr> <tr> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/9167/9167862.png" width="50px"><br>JDBC</td> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/4325/4325937.png" width="50px"><br>Apache POI</td> <td align="center"><img src="https://cdn-icons-png.flaticon.com/128/732/732220.png" width="50px"><br>iText (PDF)</td> </tr> </table> 

### üì© Contacto y Soporte
Si tienes alguna pregunta o sugerencia, contacta a:  
üìß pablolopezruiz1@gmail.com  
üîó GitHub: Pablirry
